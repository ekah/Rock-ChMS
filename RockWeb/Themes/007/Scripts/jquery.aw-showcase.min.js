(function(a){a.fn.awShowcase=function(t){var z={content_width:700,content_height:470,hundred_percent:false,auto:false,interval:3000,continuous:false,loading:true,tooltip_width:200,tooltip_icon_width:32,tooltip_icon_height:32,tooltip_offsetx:18,tooltip_offsety:0,arrows:true,buttons:true,btn_numbers:false,keybord_keys:false,mousetrace:false,pauseonover:true,transition:"hslide",transition_delay:300,transition_speed:500,show_caption:"onload",thumbnails:false,thumbnails_position:"outside-last",thumbnails_direction:"vertical",thumbnails_slidex:0,dynamic_height:false,speed_change:false,viewline:false};function y(W){var V=a(document.createElement("div")).attr("id","showcase-content-"+W).css("overflow","hidden").css("position","absolute").addClass("showcase-content").html(c[W]);if(!t.viewline){V.css("width",t.content_width)}if(t.hundred_percent&&!t.viewline){V.css("left",(E/2)-t.content_width/2)}return V}function N(){var V=parseInt(S)+1;if(V===e&&t.continuous){V=0}else{if(V===e&&!t.continuous){p=true;clearInterval(H)}}if(!p){w(V,"next")}}function w(ab,aa){if(S!==ab&&!q){var Z;var Y;var V=0;var W;var X=(t.hundred_percent)?(E/2)-(t.content_width/2):0;if((ab>S&&aa!=="previous")||aa==="next"){if(t.viewline){if(S<e-1){if(!t.speed_change){q=true}j();if(t.pauseonover){window.clearInterval(H)}r=0;for(W=S+1,len=e;W<len;++W){Z=m[W];r+=Z.find(".showcase-content").children().width()}if(r>E){R=x;x-=m[S].find(".showcase-content").children().width()}else{if($(".showcase-arrow-next").is(":visible")){R=x;x=-(M-(r+($(window).width()-r)));$(".showcase-arrow-next").fadeOut(300)}}D.animate({left:x+"px"},t.transition_speed,function(){q=false});if($(".showcase-arrow-next").is(":visible")){S++}$(".showcase-arrow-previous").fadeIn(300)}}else{if(!t.speed_change){q=true}Z=a(J).find("#showcase-content-"+parseInt(S));Y=y(ab);D.append(Y);if(t.dynamic_height){Y.css("height",Y.find(".showcase-content").children().height())}else{Y.css("height",t.content_height)}if(Z.find(".showcase-content").children().height()>Y.find(".showcase-content").children().height()&&t.dynamic_height){D.stop(true,true).animate({height:Y.find(".showcase-content").children().height()},200);V=100}if(t.transition==="hslide"){a(Z).delay(V).animate({left:-(t.content_width)},t.transition_speed+t.transition_delay,function(){Z.remove()})}else{if(t.transition==="vslide"){a(Z).delay(V).animate({top:-(t.content_height)},t.transition_speed+t.transition_delay,function(){Z.remove()})}else{a(Z).delay(V).fadeOut(t.transition_speed,function(){Z.remove()})}}P(Z,true);o(Z,true);if(t.transition==="hslide"){Y.css("left",E);a(Y).delay(V).animate({left:X},t.transition_speed,function(){P(Y);o(Y);O(Y)})}else{if(t.transition==="vslide"){Y.css("top",J.height());a(Y).delay(V).animate({top:"0px"},t.transition_speed,function(){P(Y);o(Y);O(Y)})}else{Y.css("left",X);Y.css("display","none");a(Y).delay(V).fadeIn(t.transition_speed,function(){P(Y);o(Y);O(Y)})}}}}else{if(ab<S||aa==="previous"){if(t.viewline){if(S!==0){if(!t.speed_change){q=true}j();if(t.pauseonover){window.clearInterval(H)}D.animate({left:R+"px"},t.transition_speed,function(){q=false});x=R;S--;if(S===0){$(".showcase-arrow-previous").fadeOut(300)}R=(R+(m[S-1].width()))}$(".showcase-arrow-next").fadeIn(300)}else{if(!t.speed_change){q=true}Z=a(J).find("#showcase-content-"+parseInt(S));Y=y(ab);D.append(Y);if(t.dynamic_height){Y.css("height",Y.find(".showcase-content").children().height())}else{Y.css("height",t.content_height)}if(Z.find(".showcase-content").children().height()>Y.find(".showcase-content").children().height()&&t.dynamic_height){D.stop(true,true).animate({height:Y.find(".showcase-content").children().height()},200);V=100}if(t.transition==="hslide"){a(Z).delay(V).animate({left:(E)+"px"},t.transition_speed+t.transition_delay,function(){P(Z,true);o(Z,true);Z.remove()})}else{if(t.transition==="vslide"){a(Z).delay(V).animate({top:(t.content_height)+"px"},t.transition_speed+t.transition_delay,function(){P(Z,true);o(Z,true);Z.remove()})}else{a(Z).delay(V).fadeOut(t.transition_speed,function(){P(Z,true);o(Z,true);Z.remove()})}}if(t.transition==="hslide"){Y.css("left","-"+t.content_width+"px");a(Y).delay(V).animate({left:X},t.transition_speed,function(){P(Y);o(Y);O(Y)})}else{if(t.transition==="vslide"){Y.css("top","-"+J.height()+"px");a(Y).delay(V).animate({top:"0px"},t.transition_speed,function(){P(Y);o(Y);O(Y)})}else{Y.css("left",X);Y.css("display","none");a(Y).delay(V).fadeIn(t.transition_speed,function(){P(Y);o(Y);O(Y)})}}D.append(Y)}}}if(!t.viewline){n=S;S=ab;if(t.thumbnails){if((S>n&&aa!=="previous")||aa==="next"){Q("forward",true)}else{if(S<n||aa==="previous"){Q("backward",true)}}}if(t.arrows){a(J).find(".showcase-arrow-previous").unbind("click").click(function(){if(H){l=true;clearInterval(H)}w((S===0)?e-1:parseInt(S)-1,"previous")});a(J).find(".showcase-arrow-next").unbind("click").click(function(){if(H){l=true;clearInterval(H)}w((S===e-1)?0:parseInt(S)+1,"next")})}if(t.buttons){W=0;J.find(".showcase-button-wrapper span").each(function(){var ac=a(this);ac.removeClass("active");if(W===S){ac.addClass("active")}W++})}if(t.thumbnails){W=0;J.find(".showcase-thumbnail").each(function(){var ac=a(this);ac.removeClass("active");if(W===S){ac.addClass("active")}W++})}if(t.show_caption==="show"){a(Y).find(".showcase-caption").show()}}}}function O(V){if(t.dynamic_height){D.stop(true,true).animate({height:V.find(".showcase-content").children().height()},200)}q=false}var F=0;function Q(ae,Y,X){var ad=true;var af=f(a(C).find(".showcase-thumbnail"));if(t.thumbnails_direction==="horizontal"){af=v(a(C).find(".showcase-thumbnail"))}var ag=1;if(t.thumbnails_slidex===0){t.thumbnails_slidex=A}if(Y){var W=F;var Z=0;while(W<0){if(t.thumbnails_direction==="horizontal"){W+=v(a(L[0]))}else{W+=f(a(L[0]))}Z++}var ac=Z;var aa=A+Z-1;if(S>=ac&&S<=aa){ad=false}var V;if((S-aa)>t.thumbnails_slidex){V=S-aa;console.log("current_id : "+S+" lastVisible: "+aa);var ab=0;while(V>t.thumbnails_slidex){ab++;if(ab<10){console.log("distance : "+V+" options.thumbnails_slidex: "+t.thumbnails_slidex+"multiplySlidePosition: "+ag)}V=V-t.thumbnails_slidex;ag++}}else{if((ac-S)>t.thumbnails_slidex){V=ac-S;while(V>t.thumbnails_slidex){V-=t.thumbnails_slidex;ag++}}else{ag=1}}}if(ae==="forward"&&ad){if(t.thumbnails_direction==="vertical"&&t.content_height<(u+F)){F-=af*(t.thumbnails_slidex*ag)}else{if(t.thumbnails_direction==="horizontal"&&t.content_width<(u+F)){F-=af*(t.thumbnails_slidex*ag)}else{if(S===0){if(!X){F=0}}}}if(t.thumbnails_direction==="horizontal"){C.animate({left:F},300)}else{C.animate({top:F},300)}}else{if(ad){if(F<0){F+=af*(t.thumbnails_slidex*ag)}else{if(S===e-1){if(!X){F-=af*(t.thumbnails_slidex*ag)}}else{F=0}}if(t.thumbnails_direction==="horizontal"){C.animate({left:F},300)}else{C.animate({top:F},300)}}}}function o(V,X){var W=V.find(".showcase-caption");if(!X){if(t.show_caption==="onload"){W.fadeIn(300)}else{if(t.show_caption==="onhover"){a(V).mouseenter(function(){W.fadeIn(300)});a(V).mouseleave(function(){W.stop(true,true).fadeOut(100)})}}}else{W.stop(true,true).fadeOut(300)}}function P(V,W){V.find(".showcase-tooltips a").each(function(){if(!W){var Y=a(this).attr("coords");Y=Y.split(",");a(this).addClass("showcase-plus-anchor");a(this).css("position","absolute");a(this).css("display","none");a(this).css("width",t.tooltip_icon_width);a(this).css("height",t.tooltip_icon_height);a(this).css("left",parseInt(Y[0])-(parseInt(t.tooltip_icon_width)/2));a(this).css("top",parseInt(Y[1])-(parseInt(t.tooltip_icon_height)/2));var X=a(this).html();a(this).mouseenter(function(){d(V,Y[0],Y[1],X)});a(this).mouseleave(function(){d(V,Y[0],Y[1],X)});a(this).html("");a(this).fadeIn(300)}else{a(this).stop(true,true).fadeOut(300)}})}var B=null;function d(W,V,aa,X){if(B===null){B=a(document.createElement("div")).addClass("showcase-tooltip").css("display","none").css("position","absolute").css("max-width",t.tooltip_width).html(X);W.append(B);var Z=parseInt(B.css("padding-right"))*2+parseInt(B.css("border-right-width"))*2;var Y=parseInt(B.css("padding-bottom"))*2+parseInt(B.css("border-bottom-width"))*2;lastx=parseInt(V)+B.width()+Z;lasty=parseInt(aa)+B.height()+Y;if(lastx<t.content_width){B.css("left",parseInt(V)+parseInt(t.tooltip_offsetx))}else{B.css("left",(parseInt(V)-parseInt(t.tooltip_offsetx))-(parseInt(B.width())+parseInt(t.tooltip_offsetx)))}if(lasty<t.content_height){B.css("top",parseInt(aa)+parseInt(t.tooltip_offsety))}else{B.css("top",(parseInt(aa)-parseInt(t.tooltip_offsety))-(parseInt(B.height())+parseInt(Y)))}B.fadeIn(400)}else{B.fadeOut(400);B.remove();B=null}}function f(V,W,Z,X,ad){W=typeof(W)!=="undefined"?W:true;Z=typeof(Z)!=="undefined"?Z:true;X=typeof(X)!=="undefined"?X:true;ad=typeof(ad)!=="undefined"?ad:true;var Y=(W)?a((V)).height():0;var ac=(Z)?h(a((V)).css("margin-top"))+h(a(V).css("margin-bottom")):0;var aa=(X)?h(a((V)).css("padding-top"))+h(a(V).css("padding-bottom")):0;var ab=(ad)?h(a((V)).css("border-top-width"))+h(a((V)).css("border-bottom-width")):0;Y+=ac+aa+ab;return Y}function v(V,W,Y,X,ad){W=typeof(W)!=="undefined"?W:true;Y=typeof(Y)!=="undefined"?Y:true;X=typeof(X)!=="undefined"?X:true;ad=typeof(ad)!=="undefined"?ad:true;var ac=(W)?a((V)).width():0;var ab=(Y)?h(a((V)).css("margin-left"))+h(a(V).css("margin-right")):0;var Z=(X)?h(a((V)).css("padding-left"))+h(a((V)).css("padding-right")):0;var aa=(ad)?h(a((V)).css("border-left-width"))+h(a((V)).css("border-right-width")):0;ac+=ab+Z+aa;return ac}function h(V){V=parseFloat(V);return isNaN(V)?0:V}t=a.extend(z,t);var S=0;var n=0;var p=false;var l=false;var H=null;var J=a(this);var E=t.content_width;var q=false;var M=10000;var x=0;var R=0;var r=0;var D=a(document.createElement("div")).css("overflow","hidden").css("position","relative").addClass("showcase-content-container").prependTo(J);if(t.hundred_percent){E=a(J).width()}if(t.viewline){t.thumbnails=false;t.dynamic_height=false;D.css("width",M);J.css("overflow","hidden");$(".showcase-arrow-left").hide()}var c=[];var L=[];var e=0;J.children(".showcase-slide").each(function(){var X=a(this);e++;if(t.thumbnails){var W=X.find(".showcase-thumbnail");L.push(W);W.remove()}var V=X.find(".showcase-content").children().width();var Y=X.find(".showcase-content").children().height();a("#error").text(V+" "+Y);c.push(X.html());X.remove();X=y(e-1);if(t.viewline||e===1){D.append(X)}if(t.viewline){X.css("position","relative");X.css("float","left");X.css("width",V)}if(t.dynamic_height){X.css("height",Y);if(e===1){D.css("height",Y)}}else{X.css("height",t.content_height);if(e===1){D.css("height",t.content_height)}}if(t.viewline||e===1){P(X);o(X);if(t.show_caption==="show"){a(obj).find(".showcase-caption").show()}}});var C;var u=0;var A=0;if(t.thumbnails){thumb_container=a("<div />");thumb_restriction=a("<div />");C=a("<div />");for(i=L.length-1;i>=0;--i){var K=a(L[i]).css({overflow:"hidden"});K.attr("id","showcase-thumbnail-"+i);K.addClass((i===0)?"active":"");K.click(function(W,V){return function(){if(H){l=true;clearInterval(H)}w(W,V)}}(i,""));C.prepend(K)}if(t.thumbnails_position==="outside-first"||t.thumbnails_position==="outside-last"){if(t.thumbnails_direction!=="horizontal"){D.css("float","left");D.css("width",t.content_width);thumb_container.css("float","left");thumb_container.css("height",t.content_height)}else{a(C).find(".showcase-thumbnail").css("float","left")}if(t.thumbnails_position==="outside-last"){J.append(thumb_container);if(t.thumbnails_direction!=="horizontal"){J.append(a("<div />").addClass("clear"))}}else{J.prepend(thumb_container);if(t.thumbnails_direction!=="horizontal"){J.append(a("<div />").addClass("clear"))}}}else{thumb_container.css({position:"absolute","z-index":20});if(t.thumbnails_direction==="horizontal"){thumb_container.css({left:0,right:0});a(C).find(".showcase-thumbnail").css("float","left");a(C).append(a("<div />").addClass("clear"));if(t.thumbnails_position==="inside-first"){thumb_container.css("top",0)}else{thumb_container.css("bottom",0)}}else{thumb_container.css({top:0,bottom:0});if(t.thumbnails_position==="inside-first"){thumb_container.css("left",0)}else{thumb_container.css("right",0)}}D.prepend(thumb_container)}thumb_container.addClass("showcase-thumbnail-container");thumb_container.css("overflow","hidden");thumb_restriction.addClass("showcase-thumbnail-restriction");thumb_restriction.css({overflow:"hidden",position:"relative"});if(t.thumbnails_direction==="horizontal"){thumb_restriction.css({"float":"left"})}C.addClass("showcase-thumbnail-wrapper");if(t.thumbnails_direction==="horizontal"){C.addClass("showcase-thumbnail-wrapper-horizontal")}else{C.addClass("showcase-thumbnail-wrapper-vertical")}C.css("position","relative");thumb_restriction.append(C);thumb_container.append(thumb_restriction);var g=a('<div class="showcase-thumbnail-button-backward" />');if(t.thumbnails_direction!=="horizontal"){g.html('<span class="showcase-thumbnail-vertical"><span>Up</span></span>')}else{g.css({"float":"left"});g.html('<span class="showcase-thumbnail-horizontal"><span>Left</span></span>')}g.click(function(){Q("backward",false,true)});thumb_container.prepend(g);var b=a('<div class="showcase-thumbnail-button-forward" />');if(t.thumbnails_direction!=="horizontal"){b.html('<span class="showcase-thumbnail-vertical"><span>Down</span></span>')}else{b.css({"float":"left"});b.html('<span class="showcase-thumbnail-horizontal"><span>Right</span></span>')}b.click(function(){Q("forward",false,true)});thumb_container.append(b);var U=0;if(t.thumbnails_direction!=="horizontal"){U=f(C,false);U+=(f(g))+(f(b));while(U<t.content_height){U+=f(a(L[0]));A++}}else{U=v(C,false);U+=(v(g))+(v(b));while(U<E){U+=v(a(L[0]));A++}}if(A+1>L.length){if(t.thumbnails_direction!=="horizontal"){thumb_restriction.css("margin-top",f(g))}else{thumb_restriction.css("margin-left",v(g))}g.hide();b.hide()}if(t.thumbnails_direction!=="horizontal"){var k=(f(g))+(f(b));thumb_restriction.css("height",t.content_height-k)}else{var s=(v(g))+(v(b));thumb_restriction.css("width",E-s)}if(t.thumbnails_direction==="horizontal"){a(".showcase-thumbnail").each(function(){u+=v(a(this))});C.css("width",u)}else{a(".showcase-thumbnail").each(function(){u+=f(a(this))})}}if(t.thumbnails&&t.thumbnails_position.indexOf("outside")!==-1&&t.thumbnails_direction!=="horizontal"&&!t.viewline){J.css("width",E+v(C,true,false))}else{if(!t.hundred_percent){J.css("width",E)}}if(e>1&&t.auto){H=window.setInterval(N,t.interval)}if(t.auto&&t.pauseonover){J.mouseenter(function(){p=true;clearInterval(H)});J.mouseleave(function(){if(!l){p=false;H=window.setInterval(N,t.interval)}})}if(t.arrows&&e>1){a(document.createElement("div")).addClass("showcase-arrow-previous").prependTo(J).click(function(){if(H){l=true;clearInterval(H)}w(e-1,"previous")});a(document.createElement("div")).addClass("showcase-arrow-next").prependTo(J).click(function(){if(H){l=true;clearInterval(H)}w(S+1,"next")})}if(t.buttons&&e>1){a(document.createElement("div")).css("clear","both").addClass("showcase-button-wrapper").appendTo(J);i=0;while(i<e){a(document.createElement("span")).attr("id","showcase-navigation-button-"+i).addClass((i===0)?"active":"").html((t.btn_numbers)?parseInt(i)+1:"&#9679;").click(function(W,V){return function(){if(H){l=true;clearInterval(H)}w(W,V)}}(i,"")).appendTo(a(J).find(".showcase-button-wrapper"));i++}}if(t.keybord_keys){a(document).keydown(function(V){if(V.keyCode===37){if(H){l=true;clearInterval(H)}w((S===0)?e-1:parseInt(S)-1,"previous")}if(V.keyCode===39){if(H){l=true;clearInterval(H)}w((S===e-1)?0:parseInt(S)+1,"next")}})}if(t.mousetrace){var T=a(document.createElement("div")).css("position","absolute").css("top","0").css("background-color","#fff").css("color","#000").css("padding","3px 5px").css("x-index","30").html("X: 0 Y: 0");J.append(T);var G=J.offset();D.mousemove(function(V){T.html("X: "+(V.pageX-G.left)+" Y: "+(V.pageY-G.top))})}$("#awOnePageButton").click(function I(){if($(".view-page").is(":visible")){var W=a(document.createElement("div"));W.addClass("showcase-onepage");J.before(W);if(H){l=true;clearInterval(H)}$(this).find(".view-page").hide();$(this).find(".view-slide").show();J.hide();$.each(c,function(X,Y){obj=y(X);obj.css("position","relative");W.append(obj);P(obj);o(obj);if(t.dynamic_height){obj.css("height",obj.find(".showcase-content").children().height())}else{obj.css("height",t.content_height)}});var V=a(document.createElement("div"));V.addClass("clear");W.append(V)}else{$(".showcase-onepage").remove();$(this).find(".view-page").show();$(this).find(".view-slide").hide();J.show()}return false});var m=[];function j(){M=0;D.children("div").each(function(){M+=$(this).find(".showcase-content").children().width();m.push($(this))})}J.removeClass("showcase-load")}})(jQuery);
